<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vip.home.mapper.TRoomTypeMapper">
  <resultMap id="BaseResultMap" type="com.vip.home.domain.entity.TRoomType">
    <!--@mbg.generated-->
    <id column="room_type_id" jdbcType="INTEGER" property="roomTypeId" />
    <result column="room_type_name" jdbcType="VARCHAR" property="roomTypeName" />
    <result column="room_type_price" jdbcType="DECIMAL" property="roomTypePrice" />
    <result column="room_type_describe" jdbcType="VARCHAR" property="roomTypeDescribe" />
    <result column="room_type_create_time" jdbcType="TIMESTAMP" property="roomTypeCreateTime" />
    <result column="room_type_order" jdbcType="TINYINT" property="roomTypeOrder" />

  </resultMap>

  <resultMap id="result_map" type="com.vip.home.domain.vo.TRoomTypeVo">

    <id column="room_type_id" jdbcType="INTEGER" property="roomTypeId" />
    <result column="room_type_name" jdbcType="VARCHAR" property="roomTypeName" />
    <result column="room_type_price" jdbcType="DECIMAL" property="roomTypePrice" />
    <result column="room_type_describe" jdbcType="VARCHAR" property="roomTypeDescribe" />
    <result column="room_type_order" jdbcType="TINYINT" property="roomTypeOrder" />
    <collection property="tRoomVos" resultMap="com.vip.home.mapper.TRoomMapper.base_result_map"/>
  </resultMap>
  <sql id="Base_Column_List">
    <!--@mbg.generated-->
    room_type_id, room_type_name, room_type_price, room_type_describe, room_type_create_time, 
    room_type_order, room_type_status
  </sql>
  <select id="findAll" resultMap="result_map">
    select *
    from t_room_type rt
    left join t_room ro on rt.room_type_id = ro.room_type_id
    left join t_room_image ri on ro.room_id = ri.room_id
    where room_type_status=0 and room_status=0 and room_image_status=0
  </select>
    <select id="findByType" resultMap="BaseResultMap">
      select *
      from t_room_type
      where   room_type_status=0


    </select>


</mapper>